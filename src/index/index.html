<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  
  <!-- åŠ è½½åº”ç”¨è„šæœ¬ -->
  <script type="module" src="./main.js"></script>
  
  <style>
    /* åŠ è½½æŒ‡ç¤ºå™¨ */
    #app-loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: white;
      z-index: 9999;
      font-family: Arial, sans-serif;
    }
    
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
  </style>
</head>
<body>
  <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
  <div id="app-loading">
    <h2>åº”ç”¨åŠ è½½ä¸­...</h2>
  </div>
  
  <!-- Vueåº”ç”¨æŒ‚è½½ç‚¹ -->
  <div id="app"></div>
  
<script>
window.addEventListener('error', function(event) {
  console.error('å…¨å±€é”™è¯¯:', event.error);
  const loading = document.getElementById('app-loading');
  if (loading) {
    loading.innerHTML = `
      <div style="text-align: center;">
        <h2 style="color: red;">åº”ç”¨åŠ è½½å¤±è´¥</h2>
        <p>${event.error.message}</p>
        <button onclick="location.reload()">é‡æ–°åŠ è½½</button>
      </div>
    `;
  }
});

document.addEventListener('DOMContentLoaded', () => {
  console.log('ğŸ“„ DOMContentLoaded äº‹ä»¶è§¦å‘');
  const app = document.getElementById('app');
  
  // æ·»åŠ è¶…æ—¶æ£€æµ‹
  setTimeout(() => {
    const loading = document.getElementById('app-loading');
    if (loading && loading.style.display !== 'none') {
      console.warn('âš ï¸ åº”ç”¨åŠ è½½è¶…æ—¶');
      loading.innerHTML += '<p style="color: orange;">åŠ è½½æ—¶é—´è¿‡é•¿ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°é”™è¯¯</p>';
    }
  }, 5000); // 5ç§’è¶…æ—¶
  
  // ç›‘å¬VueæŒ‚è½½äº‹ä»¶
  app.addEventListener('vue:mounted', () => {
    console.log('ğŸ‰ vue:mounted äº‹ä»¶è§¦å‘');
    const loading = document.getElementById('app-loading');
    if (loading) {
      loading.style.display = 'none';
    }
  });
});
</script>
</body>
</html>